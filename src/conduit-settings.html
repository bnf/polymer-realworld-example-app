<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="conduit-common-styles.html">

<dom-module id="conduit-settings">
  <template>
    <style include="conduit-common-styles">
    </style>

    <div class="settings-page">
      <div class="container page">
        <div class="row">

          <div class="col-md-6 offset-md-3 col-xs-12">
            <h1 class="text-xs-center">Your Settings</h1>

            <form>
              <fieldset>
                <fieldset class="form-group">
                  <input class="form-control" type="text" placeholder="URL of profile picture" value="[[user.image]]">
                </fieldset>
                <fieldset class="form-group">
                  <input class="form-control form-control-lg" type="text" placeholder="Username" value="[[user.username]]">
                </fieldset>
                <fieldset class="form-group">
                  <textarea class="form-control form-control-lg" rows="8" placeholder="Short bio about you">[[user.bio]]</textarea>
                </fieldset>
                <fieldset class="form-group">
                  <input class="form-control form-control-lg" type="text" placeholder="Email" value="[[user.email]]">
                </fieldset>
                <fieldset class="form-group">
                  <input class="form-control form-control-lg" type="password" placeholder="New Password">
                </fieldset>
                <button class="btn btn-lg btn-primary pull-xs-right">
                  Update Settings
                </button>
              </fieldset>
            </form>
            <hr>
            <button class="btn btn-outline-danger" on-click="_logout">
              Or click here to logout.
            </button>
          </div>

        </div>
      </div>
    </div>
  </template>

  <script>
    class ConduitSettings extends Polymer.Element {
      static get is() {
        return 'conduit-settings';
      }
      static get properties() {
        return {
          user: {
            notify: true, type: Object
          },
          token: {
            notify: true, type: String
          }
        }
      }
      _logout() {
        this.set('token', null)
        window.history.pushState({}, null, '/#/');
        window.dispatchEvent(new CustomEvent('location-changed'));
      }
    }

    window.customElements.define(ConduitSettings.is, ConduitSettings);
  </script>
</dom-module>
